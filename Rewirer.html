<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Rewirer</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Rewirer</h1>

    




<section>

<header>
    
        <h2>Rewirer</h2>
        
            <div class="class-description">Rewirer wraps the functionalities of
<a href="https://github.com/speedskater/babel-plugin-rewire">babel-plugin-rewire</a>.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="Rewirer"><span class="type-signature"></span>new Rewirer<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Initialize Rewirer.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">(module)</span><span class="type-signature"> &rarr; {<a href="Rewirer.html">Rewirer</a>}</span></h4>

    



<div class="description">
    Remove a specified module from rewiring targets.
If the given module doesn't be registered, does nothing.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">A module to be removed from targets.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    this instance
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Rewirer.html">Rewirer</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="resetDependencies"><span class="type-signature"></span>resetDependencies<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Reset all dependencies which has been replaced with mocks.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line65">line 65</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="rewire"><span class="type-signature"></span>rewire<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Rewire all dependencies by mocks on the registered modules.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line56">line 56</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="run"><span class="type-signature"></span>run<span class="signature">(action<span class="signature-attributes">non-null</span>)</span><span class="type-signature"> &rarr; (nullable) {Promise}</span></h4>

    



<div class="description">
    Run the action. Rewirer automatically injects mocks
before running and resets dependencies after running.
If the action is async, please returns Promise
so that Rewirer can reset dependencies correctly
after the async process.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>action</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Rewirer.html#~action">Rewirer~action</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise if the action is async.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="use"><span class="type-signature"></span>use<span class="signature">(module<span class="signature-attributes">non-null</span>, mocks<span class="signature-attributes">non-null</span>)</span><span class="type-signature"> &rarr; {<a href="Rewirer.html">Rewirer</a>}</span></h4>

    



<div class="description">
    Register a specified module as an rewiring target.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">A module to be injected mocks.
    The module must have both `__Rewire__` and
    `__ResetDependency__` methods added by 'babel-plugin-rewire'.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>mocks</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A hash object like {name: mock}.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    this instance
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Rewirer.html">Rewirer</a></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    <h4 class="name" id="~action"><span class="type-signature"></span>action<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    While this callback is running, it is guaranteed
that all the registered modules are rewired.
If this returns Promise, Rewirer resets dependencies
after the Promise is done.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="babel-rewire-wrapper.js.html">babel-rewire-wrapper.js</a>, <a href="babel-rewire-wrapper.js.html#line125">line 125</a>
    </li></ul></dd>
    

    

    

    
</dl>
















            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-rewire.html">rewire</a></li></ul><h3>Classes</h3><ul><li><a href="Rewirer.html">Rewirer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Jan 06 2016 23:52:38 GMT+0900 (JST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>